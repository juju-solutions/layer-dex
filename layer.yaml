repo: https://github.com/juju-solutions/layer-dex
includes:
 - 'layer:basic'
 - 'layer:snap'
 - 'layer:tls-client'
 - 'interface:kube-oidc'
defines:
    dex_snap:
      type: string
      default: lazy-dex
      description: |
        "Snap package to install from snapcraft.io by default when no snap
        resource has been provided."
options:
  tls-client:
    ca_certificate_path: /var/snap/lazy-dex/common/ca.crt
    server_certificate_path: /var/snap/lazy-dex/common/server.crt
    server_key_path: /var/snap/lazy-dex/common/server.key
